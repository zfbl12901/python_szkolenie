---
title: "Kivy - Framework Python pour Mobile"
order: 1
parent: "31-applications-mobiles.md"
tags: ["python", "mobile", "kivy", "android", "ios"]
---

# Kivy - Framework Python pour Mobile

## Introduction

Kivy est un framework Python open-source pour développer des applications multi-touch. Il est particulièrement adapté pour créer des applications mobiles iOS et Android.

## Installation

```bash
pip install kivy
```

## Concepts de base

### Structure d'une app Kivy

```python
from kivy.app import App
from kivy.uix.widget import Widget

class MyWidget(Widget):
    pass

class MyApp(App):
    def build(self):
        return MyWidget()

if __name__ == '__main__':
    MyApp().run()
```

### KV Language

Kivy utilise un langage déclaratif pour définir les interfaces :

```kv
<MyWidget>:
    Button:
        text: 'Cliquer'
        size_hint: 0.3, 0.2
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
```

## Widgets de base

### Labels et TextInput

```python
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.textinput import TextInput

class MyApp(App):
    def build(self):
        layout = BoxLayout(orientation='vertical', padding=10)
        
        label = Label(text='Entrez votre nom:', font_size=20)
        text_input = TextInput(multiline=False, font_size=20)
        
        layout.add_widget(label)
        layout.add_widget(text_input)
        
        return layout

MyApp().run()
```

### Boutons et événements

```python
from kivy.app import App
from kivy.uix.button import Button
from kivy.uix.label import Label
from kivy.uix.boxlayout import BoxLayout

class MyApp(App):
    def build(self):
        layout = BoxLayout(orientation='vertical', padding=10)
        
        self.label = Label(text='Cliquez le bouton', font_size=24)
        button = Button(text='Cliquer', size_hint_y=0.3)
        button.bind(on_press=self.on_button_click)
        
        layout.add_widget(self.label)
        layout.add_widget(button)
        
        return layout
    
    def on_button_click(self, instance):
        self.label.text = 'Bouton cliqué!'

MyApp().run()
```

## Layouts

### BoxLayout

```python
from kivy.uix.boxlayout import BoxLayout

# Vertical
layout = BoxLayout(orientation='vertical', spacing=10, padding=10)

# Horizontal
layout = BoxLayout(orientation='horizontal', spacing=10, padding=10)
```

### GridLayout

```python
from kivy.uix.gridlayout import GridLayout

layout = GridLayout(cols=3, spacing=10, padding=10)
# Ajouter des widgets
```

### FloatLayout

```python
from kivy.uix.floatlayout import FloatLayout

layout = FloatLayout()
button = Button(text='Bouton', size_hint=(0.3, 0.2), pos_hint={'x': 0.1, 'y': 0.1})
layout.add_widget(button)
```

## Exemple : Application météo

```python
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.textinput import TextInput
from kivy.uix.button import Button

class WeatherApp(App):
    def build(self):
        layout = BoxLayout(orientation='vertical', padding=20, spacing=10)
        
        self.city_input = TextInput(
            hint_text='Entrez une ville',
            multiline=False,
            size_hint_y=0.2
        )
        
        search_btn = Button(
            text='Rechercher',
            size_hint_y=0.2
        )
        search_btn.bind(on_press=self.search_weather)
        
        self.result_label = Label(
            text='Résultats ici',
            font_size=18,
            text_size=(None, None)
        )
        
        layout.add_widget(self.city_input)
        layout.add_widget(search_btn)
        layout.add_widget(self.result_label)
        
        return layout
    
    def search_weather(self, instance):
        city = self.city_input.text
        if city:
            # Simuler une recherche météo
            self.result_label.text = f"Météo pour {city}:\n20°C, Ensoleillé"
        else:
            self.result_label.text = "Veuillez entrer une ville"

WeatherApp().run()
```

## Ressources

- **Documentation** : https://kivy.org/doc/stable
- **Exemples** : https://github.com/kivy/kivy/tree/master/examples
